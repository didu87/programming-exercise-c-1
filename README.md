Hi! Here is my solution :)

Build: make
Run:   ./test

Tested on Ubuntu 12.04

Cyclomatic complexity is 7 because there are
	while +1
	4 if  +4
and than
	for   +1
	1 if  +1
Total: 7

Algotithm has O(N) complexity, where N is size of input path.
Experimental speed value is from 1 to 10 Mbps on my one cpu. 
